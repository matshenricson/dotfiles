---
- hosts: all
  connection: local
  become: yes
  vars:
  - docker_compose_version: 1.10.0
  - docker_machine_version: 0.9.0
  - intellij_version: 171.2272.14
  - intellij_checksum: "sha256:0b8948bf84dfc06f9817ba8907eb36de420e1dae7f10d02275a886c036d157bd"
  - intellij_archive: ideaIU-171.2272.14-no-jdk.tar.gz

  vars_files:
  - vars/secrets.yml

  handlers:
  - include: handlers/main.yml

  roles:
  - {role: franklinkim.docker, tags: [docker, docker-engine]}
  
  post_tasks:
  - {include: tasks/aws-cli.yml, tags: aws}
  - {include: tasks/calibre.yml, tags: calibre}
  - {include: tasks/compilers.yml, tags: [compilers, codekvast]}
  - {include: tasks/docker.yml, tags: [docker, codekvast]}
  - {include: tasks/fish.yml, tags: [fish, sdkman]}
  - {include: tasks/heroku-toolbelt.yml, tags: [heroku, codekvast]}
  - {include: tasks/intellij.yml, tags: [intellij, codekvast]}
  - {include: tasks/misc.yml, tags: misc}
  - {include: tasks/nfs-mounts.yml, tags: [fstab, nfs, nfs-mounts]}
  - {include: tasks/vagrant.yml, tags: vagrant}
  - {include: tasks/virtualbox.yml, tags: virtualbox}
